name: reviewdog
on: [pull_request]
jobs:
    eslint-frontend:
        name: eslint / frontend
        runs-on: ubuntu-latest
        steps:
            # Checkout the git repository
            - uses: actions/checkout@v2
            # Install and cache npm packages
            - uses: bahmutov/npm-install@v1
              with:
                  working-directory: frontend
            # Run eslint using reviewdog
            - uses: reviewdog/action-eslint@v1
              with:
                  workdir: "frontend"
                  eslint_flags: "src/"
    eslint-backend:
        name: eslint / backend
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3
            - uses: actions/setup-node@v3
            - run: npm install --prefix backend
            - run: npm run lint --prefix backend
    eslint-olympus-bg:
        name: eslint / olympus-bg
        runs-on: ubuntu-latest
        steps:
            # Checkout the git repository
            - uses: actions/checkout@v2
            # Install and cache npm packages
            - uses: bahmutov/npm-install@v1
              with:
                  working-directory: olympus-bg
            # Run eslint using reviewdog
            - uses: reviewdog/action-eslint@v1
              with:
                  workdir: "olympus-bg"
                  eslint_flags: "src/"
